[{"D:\\ReactApps\\Stories.io\\web\\src\\index.js":"1","D:\\ReactApps\\Stories.io\\web\\src\\App.js":"2","D:\\ReactApps\\Stories.io\\web\\src\\Config\\routes.js":"3","D:\\ReactApps\\Stories.io\\web\\src\\Pages\\Home\\index.js":"4","D:\\ReactApps\\Stories.io\\web\\src\\Pages\\PageNotFound\\index.js":"5","D:\\ReactApps\\Stories.io\\web\\src\\Pages\\Browse\\index.js":"6","D:\\ReactApps\\Stories.io\\web\\src\\Pages\\Login\\index.js":"7","D:\\ReactApps\\Stories.io\\web\\src\\Components\\Page\\index.js":"8","D:\\ReactApps\\Stories.io\\web\\src\\Components\\Navbar\\index.js":"9","D:\\ReactApps\\Stories.io\\web\\src\\Components\\FlashMessage\\index.js":"10","D:\\ReactApps\\Stories.io\\web\\src\\Components\\Logo\\index.js":"11","D:\\ReactApps\\Stories.io\\web\\src\\Pages\\SignUp\\index.js":"12","D:\\ReactApps\\Stories.io\\web\\src\\Components\\StoryList\\index.js":"13","D:\\ReactApps\\Stories.io\\web\\src\\Pages\\Story\\index.js":"14","D:\\ReactApps\\Stories.io\\web\\src\\Components\\Loading\\index.js":"15","D:\\ReactApps\\Stories.io\\web\\src\\Components\\Error\\index.js":"16","D:\\ReactApps\\Stories.io\\web\\src\\Components\\CommentBox\\index.js":"17","D:\\ReactApps\\Stories.io\\web\\src\\Context\\index.js":"18","D:\\ReactApps\\Stories.io\\web\\src\\Context\\actions.js":"19","D:\\ReactApps\\Stories.io\\web\\src\\Context\\context.js":"20","D:\\ReactApps\\Stories.io\\web\\src\\Context\\reducer.js":"21","D:\\ReactApps\\Stories.io\\web\\src\\Components\\AppRoute\\index.js":"22"},{"size":219,"mtime":1609494597097,"results":"23","hashOfConfig":"24"},{"size":848,"mtime":1609928268531,"results":"25","hashOfConfig":"24"},{"size":875,"mtime":1609928614621,"results":"26","hashOfConfig":"24"},{"size":1933,"mtime":1609774769863,"results":"27","hashOfConfig":"24"},{"size":174,"mtime":1609494624936,"results":"28","hashOfConfig":"24"},{"size":1557,"mtime":1609682634585,"results":"29","hashOfConfig":"24"},{"size":2716,"mtime":1609930212990,"results":"30","hashOfConfig":"24"},{"size":530,"mtime":1609494637255,"results":"31","hashOfConfig":"24"},{"size":2103,"mtime":1609747455997,"results":"32","hashOfConfig":"24"},{"size":646,"mtime":1609494637191,"results":"33","hashOfConfig":"24"},{"size":160,"mtime":1609494637204,"results":"34","hashOfConfig":"24"},{"size":2503,"mtime":1609561831104,"results":"35","hashOfConfig":"24"},{"size":1562,"mtime":1609744954957,"results":"36","hashOfConfig":"24"},{"size":2497,"mtime":1609825178664,"results":"37","hashOfConfig":"24"},{"size":305,"mtime":1609651490467,"results":"38","hashOfConfig":"24"},{"size":474,"mtime":1609653065304,"results":"39","hashOfConfig":"24"},{"size":2019,"mtime":1609830540344,"results":"40","hashOfConfig":"24"},{"size":199,"mtime":1609924819649,"results":"41","hashOfConfig":"24"},{"size":1005,"mtime":1609929812765,"results":"42","hashOfConfig":"24"},{"size":1042,"mtime":1609923837946,"results":"43","hashOfConfig":"24"},{"size":872,"mtime":1609929347531,"results":"44","hashOfConfig":"24"},{"size":841,"mtime":1609930179393,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"1vm1b2i",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"48"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"48"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\ReactApps\\Stories.io\\web\\src\\index.js",[],["93","94"],"D:\\ReactApps\\Stories.io\\web\\src\\App.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Config\\routes.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Pages\\Home\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Pages\\PageNotFound\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Pages\\Browse\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Pages\\Login\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Components\\Page\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Components\\Navbar\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Components\\FlashMessage\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Components\\Logo\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Pages\\SignUp\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Components\\StoryList\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Pages\\Story\\index.js",["95"],"import React, { useState, useEffect } from 'react'\r\nimport { withRouter, useParams } from 'react-router-dom'\r\nimport './Story.css'\r\nimport Loading from '../../Components/Loading'\r\nimport Error from '../../Components/Error'\r\nimport clapIcon from '../../assets/Clap.svg'\r\nimport CommentBox from '../../Components/CommentBox'\r\n\r\nfunction Story ( props ) {\r\n\r\n    const [ loading, setLoading ] = useState( true )\r\n    const [ story, setStory ] = useState(null)\r\n    const [ error, setError ] = useState(null)\r\n    const { slug } = useParams();\r\n\r\n    const fetchStory = async () => {\r\n        fetch(`http://localhost:4000/story/${slug}`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (!data.story) {\r\n                    setError('Unable to find the story')\r\n                }\r\n                else {\r\n                    setStory(data.story)\r\n                    setLoading(false)\r\n                }\r\n            })\r\n            .catch(error => {\r\n                setLoading(false)\r\n                setError('Error fetching the story')\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n        document.querySelector('#root').classList.remove('disable')\r\n\r\n        setTimeout(() => {\r\n            fetchStory()\r\n        }, 2000)\r\n            \r\n    }, [])\r\n\r\n    return (\r\n\r\n        <>\r\n            {loading && \r\n                <Loading />\r\n            }\r\n\r\n            {!loading && !error && story &&\r\n                <>\r\n                    <div className=\"story-container\">\r\n                        <h1 className=\"title\">{story.title}</h1>\r\n                        <p className=\"date\">{story.createdAt.toLocaleString()}</p>\r\n                        <div \r\n                            dangerouslySetInnerHTML={{ __html: story.convertedHtml }} \r\n                            className=\"story\" />\r\n                        <div className=\"written-by\">\r\n                            <p>- {story.writtenBy}</p>\r\n                        </div>\r\n                        <div className=\"actions\">\r\n                            <button className=\"clap\">\r\n                                <img src={clapIcon} alt=\"Clap\" />\r\n                            </button>\r\n                            {story.claps}\r\n                        </div>\r\n                    </div>\r\n                    <CommentBox story={story} />\r\n                </>\r\n            }\r\n\r\n            {error && <Error message={error} />}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(Story)\r\n","D:\\ReactApps\\Stories.io\\web\\src\\Components\\Loading\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Components\\Error\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Components\\CommentBox\\index.js",["96"],"import React, { useState, useRef } from 'react'\r\nimport './CommentBox.css'\r\n\r\nfunction CommentBox({ story }) {\r\n\r\n    const [ comments, setComments ] = useState([...story.comments].reverse())\r\n    const [ text, setText ] = useState(''); \r\n    const curentUser = 'WallFlower'\r\n\r\n    const pushComment = async () => {\r\n\r\n        if (text.length <= 0) return\r\n\r\n        await fetch(\r\n            `http://localhost:4000/story/comment/${story._id}`,\r\n            {\r\n                method: 'POST',\r\n                body: JSON.stringify({\r\n                    currentUser: curentUser,\r\n                    comment: text\r\n                }),\r\n                credentials: \"include\",\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json',\r\n                }\r\n            }).then(res => res.json())\r\n            .then(data => {\r\n                if(!data.story) {\r\n                    return\r\n                }\r\n                setComments([...data.story.comments].reverse())\r\n                setText(\"\")\r\n            })\r\n    }\r\n\r\n    return (\r\n        \r\n        <div className=\"comment-container\">\r\n            <h3>Comments</h3>\r\n            <div className=\"comment-input\">\r\n                <input \r\n                    type=\"text\"\r\n                    placeholder=\"Write a Comment..\"\r\n                    onChange={e => setText(e.target.value)}\r\n                    value={text}\r\n                />\r\n                <button \r\n                    className=\"button\"\r\n                    onClick={pushComment}\r\n                >comment</button>\r\n            </div>\r\n            <div className=\"comments\">\r\n                {comments.map((comment, index) => (\r\n                    <div className=\"comment\" key={index}>\r\n                        <div>{comment.comment}</div>\r\n                        <span>-{comment.by}</span>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentBox\r\n","D:\\ReactApps\\Stories.io\\web\\src\\Context\\index.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Context\\actions.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Context\\context.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Context\\reducer.js",[],"D:\\ReactApps\\Stories.io\\web\\src\\Components\\AppRoute\\index.js",[],{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":42,"column":8,"nodeType":"103","endLine":42,"endColumn":10,"suggestions":"104"},{"ruleId":"105","severity":1,"message":"106","line":1,"column":27,"nodeType":"107","messageId":"108","endLine":1,"endColumn":33},"no-native-reassign",["109"],"no-negated-in-lhs",["110"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchStory'. Either include it or remove the dependency array.","ArrayExpression",["111"],"no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"112","fix":"113"},"Update the dependencies array to be: [fetchStory]",{"range":"114","text":"115"},[1297,1299],"[fetchStory]"]